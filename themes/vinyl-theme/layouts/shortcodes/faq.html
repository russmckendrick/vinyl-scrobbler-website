{{ $id := .Get "id" | default "faq" }}

<div class="border-b border-gray-800">
    <button type="button" class="flex w-full items-center justify-between py-8 text-left" onclick="toggleFAQ(this)" aria-controls="{{ $id }}" aria-expanded="false">
        <span class="text-2xl text-vinyl-cream">{{ .Get "question" }}</span>
        <span class="ml-6 flex h-7 items-center">
            <svg class="size-6 text-vinyl-cream transition-transform duration-200 ease-in-out" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />
            </svg>
        </span>
    </button>
    <div class="hidden pb-8" id="{{ $id }}">
        <div class="text-xl text-vinyl-cream">
            {{ .Inner | markdownify }}
        </div>
    </div>
</div>

<script>
function toggleFAQ(button) {
    const content = button.nextElementSibling;
    const icon = button.querySelector('svg');
    const isExpanded = button.getAttribute('aria-expanded') === 'true';
    
    button.setAttribute('aria-expanded', !isExpanded);
    content.classList.toggle('hidden');
    icon.style.transform = isExpanded ? 'rotate(0deg)' : 'rotate(-45deg)';
}
</script> 